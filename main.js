var artifacts = {
    "siyanie-vurukashi": {
        "title": "Сияние Вурукаши",
        "desc": "<strong>2 предмета:</strong> Увеличивает НР на 20%.<br><strong>4 предмета:</strong> Увеличивает урон элементального навыка и взрыва стихии на 10%. Если экипированный персонаж получает урон, этот эффект повышения урона увеличивается на 80% на 5 сек. Эффект может складываться до 5 раз. Отсчёт времени каждого уровня происходит отдельно. Эти эффекты активируются даже если экипированный персонаж не на поле боя.",
        "characters": [
            "dehya",
            "nilu",
            "kuki-sinobu",
            "kokomi",
            "baizhu",
            "layla",
            "kirara",
            "yelan"
        ]
    },
    "ceremoniya-drevnej-znati": {
        "title": "Церемония древней знати",
        "desc": "<strong>2 предмета:</strong> Увеличивает урон взрыва стихии на 20%.<br><strong>4 предмета:</strong> Активация взрыва стихии увеличивает силу атаки всех членов отряда на 20% в течение 12 сек. Эффект не складывается.",
        "characters": [
            "puteshestvennik-anemo",
            "puteshestvennik-geo",
            "sin-cyu",
            "toma",
            "amber",
            "chun-yun",
            "shenh-he",
            "toma",
            "sayu",
            "faruzan",
            "diona",
            "sin-yan",
            "venti",
            "nin-guan",
            "bennet",
            "syan-lin",
            "gan-yuj",
            "albedo",
            "keja",
            "liza",
            "mona",
            "kandakia",
            "dori",
            "chzhun-li",
            "kollei"
        ]
    },
    "stranstvuyushchij-ansambl": {
        "title": "Странствующий ансамбль",
        "desc": "<strong>2 предмета:</strong> Увеличивает мастерство стихий на 80 ед.<br><strong>4 предмета:</strong> Увеличивает урон заряженной атаки на 35%, если персонаж использует катализатор или стрелковое оружие.",
        "characters": [
            "saharoza",
            "mona",
            "venti",
            "amber",
            "yanfehj",
            "kli"
        ]
    },
    "son-nimfy": {
        "title": "Сон нимфы",
        "desc": "<strong>2 предмета:</strong> Даёт 15% бонус Гидро урона.<br><strong>4 предмета:</strong> Попадания обычной атакой, заряженной атакой, атакой в падении, элементальным навыком и взрывом стихии по противнику на 8 сек. создают 1 уровень Отражения нимфы. Когда действуют 1/2/3 и более уровня Отражения нимфы, сила атаки повышается на 7%/16%/25%, а бонус Гидро урона на 4%/9%/15%. Уровни Отражения нимфы, созданные обычными атаками, заряженными атаками, атаками в падении, элементальными навыками и взрывами стихии, существуют независимо друг от друга.",
        "characters": [
            "kamisato-ayato",
            "tartalya",
            "kokomi",
            "yelan",
            "sin-cyu"
        ]
    },
    "pozolochennye-sny": {
        "title": "Позолоченные сны",
        "desc": "<strong>2 предмета:</strong> Увеличивает мастерство стихий на 80 ед.<br><strong>4 предмета:</strong> На 8 сек. после вызова элементальной реакции согласно элементам других персонажей в отряде экипированный этими артефактами персонаж получает следующие усиления: сила атаки повышается на 14% за каждого персонажа с таким же элементом, как у экипированного персонажа; мастерство стихий повышается на 50 ед. за каждого персонажа с иным элементом. Каждое из этих усилений при подсчёте включает до 3 персонажей. Эффект может возникнуть один раз в 8 сек. Срабатывает, даже если экипированный этими артефактами персонаж не на поле боя.",
        "characters": [
            "tignari",
            "cyno",
            "gan-yuj",
            "kazuha",
            "yae-miko",
            "nilu"
        ]
    },
    "stojkost-millelita": {
        "title": "Стойкость Миллелита",
        "desc": "<strong>2 предмета:</strong> Увеличивает HP на 20%.<br><strong>4 предмета:</strong> Когда элементальный навык попадает по врагам, атака всех находящихся поблизости персонажей в отряде, увеличивается на 20%, а прочность их щита увеличивается на 30%. Эффект длится 3 сек. и может возникнуть 1 раз в 0,5 сек. Этот эффект может быть активирован, даже если персонаж, экипированный этим набором артефактов, не находится на поле боя.",
        "characters": [
            "barbara",
            "nilu",
            "toma",
            "diona",
            "ci-ci",
            "chzhun-li",
            "albedo",
            "layla",
            "kuki-sinobu",
            "yelan",
            "baizhu",
            "faruzan",
            "kirara",
            "yaoyao",
            "dori",
            "mika"
        ]
    },
    "zabludshij-v-meteli": {
        "title": "Заблудший в метели",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Крио урона на 15%.<br><strong>4 предмета:</strong> Атаки по противникам с эффектом Крио увеличивают шанс крит. попадания на 20%. Если противник имеет статус Заморозка, то дополнительно увеличивает шанс крит. попадания на 20%.",
        "characters": [
            "chun-yun",
            "gan-yuj",
            "layla",
            "shenh-he",
            "kamisato-ayaka",
            "keja"
        ]
    },
    "izumrudnaya-ten": {
        "title": "Изумрудная тень",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Анемо урона на 15%.<br><strong>4 предмета:</strong> Увеличивает урон Рассеивания на 60%. При взаимодействии Рассеивания с другим элементом, также понижает сопротивление противника к соответствующему элементу на 40% в течение 10 сек.",
        "characters": [
            "puteshestvennik-anemo",
            "venti",
            "syao",
            "sayu",
            "dzhinn",
            "faruzan",
            "saharoza",
            "kazuha",
            "strannik"
        ]
    },
    "konec-gladiatora": {
        "title": "Конец гладиатора",
        "desc": "<strong>2 предмета:</strong> Увеличивает силу атаки на 18%.<br><strong>4 предмета:</strong> Увеличивает урон обычной атаки на 35%, если персонаж использует одноручное, двуручное или древковое оружие.",
        "characters": [
            "puteshestvennik-anemo",
            "puteshestvennik-geo",
            "behj-dou",
            "kamisato-ayaka",
            "amber",
            "noehll",
            "sayu",
            "tartalya",
            "hu-tao",
            "sin-yan",
            "rehjzor",
            "nin-guan",
            "bennet",
            "syan-lin",
            "chun-yun",
            "albedo",
            "dilyuk",
            "kli",
            "keh-cin",
            "chzhun-li",
            "dzhinn",
            "syao",
            "fishl"
        ]
    },
    "serdce-glubin": {
        "title": "Сердце глубин",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Гидро урона на 15%.<br><strong>4 предмета:</strong> Увеличивает урон обычной и заряженной атаки на 30% в течение 15 сек. после использования элементального навыка.",
        "characters": [
            "tartalya",
            "kandakia",
            "sin-cyu",
            "mona"
        ]
    },
    "ehmblema-rassechyonnoj-sudby": {
        "title": "Эмблема рассечённой судьбы",
        "desc": "<strong>2 предмета:</strong> Увеличивает скорость восстановления энергии на 20%.<br><strong>4 предмета:</strong> Увеличивает урон взрыва стихии на величину, равную 25% от значения восстановления энергии. Эффект можно увеличить максимум до 75%.",
        "characters": [
            "syogun-rajdehn",
            "sin-cyu",
            "syan-lin",
            "behj-dou",
            "mona",
            "layla",
            "yanfehj",
            "toma",
            "kandakia",
            "mika"
        ]
    },
    "vospominaniya-simehnavy": {
        "title": "Воспоминания Симэнавы",
        "desc": "<strong>2 предмета:</strong> Увеличивает силу атаки на 18%.<br><strong>4 предмета:</strong> При использовании элементального навыка, если у персонажа 15 или более единиц энергии, он теряет 15 единиц энергии, а урон обычной атаки, заряженной атаки и атаки в падении увеличивается на 50% в течение 10 сек. Эффект нельзя активировать повторно в течение этого времени.",
        "characters": [
            "hu-tao",
            "yoimiya",
            "yanfehj",
            "kazuha",
            "kamisato-ayaka",
            "gan-yuj",
            "tartalya"
        ]
    },
    "blednyj-ogon": {
        "title": "Бледный огонь",
        "desc": "<strong>2 предмета:</strong> Увеличивает физ. урон на 25%.<br><strong>4 предмета:</strong> Когда элементальный навык попадает по врагам, атака увеличивается на 9% в течение 7 сек. Эффект может складываться до 2 раз и возникнуть не чаще 1 раза за 0,3 сек. На 2 уровне эффект набора из 2 вещей увеличивается на 100%.",
        "characters": [
            "rehjzor",
            "fishl",
            "keh-cin",
            "sin-yan",
            "rozariya",
            "ehola"
        ]
    },
    "azartnyj-igrok": {
        "title": "Азартный игрок",
        "desc": "<strong>2 предмета:</strong> Увеличивает урон элементальных навыков на 20%.<br><strong>4 предмета:</strong> Победа над противником со 100% шансом восстанавливает время отката элементального навыка. Может возникнуть раз в 15 сек.",
        "characters": [
            "hu-tao",
            "sin-cyu",
            "ci-ci",
            "dzhinn",
            "keh-cin",
            "dilyuk",
            "rehjzor",
            "fishl"
        ]
    },
    "uchyonyj": {
        "title": "Учёный",
        "desc": "<strong>2 предмета:</strong> Увеличивает скорость восстановления энергии на 20%.<br><strong>4 предмета:</strong> Получение элементальных сфер или частиц восстанавливает 3 ед. энергии членам отряда, экипированным стрелковым оружием или катализатором. Может возникнуть раз в 3 сек.",
        "characters": [
            "diona",
            "sin-cyu",
            "bennet"
        ]
    },
    "usmiryayushchij-grom": {
        "title": "Усмиряющий гром",
        "desc": "<strong>2 предмета:</strong> Повышает Электро сопротивление на +40%.<br><strong>4 предмета:</strong> Увеличивает урон против врагов, находящихся под действием Электро, на 35%.",
        "characters": [
            "keh-cin"
        ]
    },
    "stupayushchij-po-lave": {
        "title": "Ступающий по лаве",
        "desc": "<strong>2 предмета:</strong> Пиро сопротивление: +40%<br><strong>4 предмета:</strong> Увеличивает урон против врагов, находящихся под действием Пиро, на 35%.",
        "characters": [
            "hu-tao",
            "kli"
        ]
    },
    "vozlyublennaya-yunaya-deva": {
        "title": "Возлюбленная юная дева",
        "desc": "<strong>2 предмета:</strong> Увеличивает лечение персонажа на 15%.<br><strong>4 предмета:</strong> Увеличивает получаемое лечение всех членов отряда на 20% в течение 10 сек. после использования элементального навыка или взрыва стихии.",
        "characters": [
            "barbara",
            "ci-ci",
            "diona",
            "baizhu",
            "noehll"
        ]
    },
    "gromoglasnyj-ryov-yarosti": {
        "title": "Громогласный рёв ярости",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Электро урона на 15%<br><strong>4 предмета:</strong> Увеличивает урон реакций Перегрузка, Заряжен, Сверхпроводник и Вегетация на 40%. Урон от реакции Обострение увеличивается на 20%. При активации этих реакций, а также реакции Стимуляция, время отката элементального навыка уменьшается на 1 сек. Эффект может возникнуть не чаще 1 раза за 0.8 сек.",
        "characters": [
            "cyno",
            "behj-dou",
            "fishl",
            "keh-cin",
            "liza",
            "puteshestvennik-ehlektro",
            "yae-miko",
            "sara-kudzyo"
        ]
    },
    "goryashchaya-alaya-vedma": {
        "title": "Горящая алая ведьма",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Пиро урона на 15%.<br><strong>4 предмета:</strong> Увеличивает урон статусов Перегрузка и Горение на 40%, а урон статусов Пар и Таяние – на 15%. Использование элементального навыка увеличивает эффекты набора из двух вещей на 50% в течение 10 сек. Может складываться до 3 раз.",
        "characters": [
            "sin-yan",
            "syan-lin",
            "bennet",
            "amber",
            "dilyuk",
            "yanfehj",
            "hu-tao",
            "kli"
        ]
    },
    "arhaichnyj-kamen": {
        "title": "Архаичный камень",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Гео урона на 15%.<br><strong>4 предмета:</strong> Подобранные осколки, образованные реакцией Кристалл, увеличивают бонус элементального урона всех членов отряда на 35% в течение 10 сек. Одновременно можно иметь бонус урона только одного элемента.",
        "characters": [
            "nin-guan",
            "puteshestvennik-geo",
            "albedo",
            "chzhun-li"
        ]
    },
    "rycar-krovi": {
        "title": "Рыцарь крови",
        "desc": "<strong>2 предмета:</strong> Увеличивает физ. урон на 25%.<br><strong>4 предмета:</strong> После победы над противником увеличивает урон заряженной атаки на 50% и обнуляет стоимость выносливости заряженной атаки на 10 сек.",
        "characters": [
            "sin-yan",
            "rehjzor",
            "dzhinn",
            "keh-cin",
            "bennet",
            "syao",
            "syan-lin",
            "fishl",
            "chzhun-li"
        ]
    },
    "vstrechnaya-kometa": {
        "title": "Встречная комета",
        "desc": "<strong>2 предмета:</strong> Увеличивает прочность щита на 35%.<br><strong>4 предмета:</strong> Под защитой щита увеличивает урон обычной и заряженной атаки на 40%.",
        "characters": [
            "tartalya",
            "noehll",
            "sin-yan",
            "hu-tao",
            "nin-guan"
        ]
    },
    "cvetok-poteryannogo-raya": {
        "title": "Цветок потерянного рая",
        "desc": "<strong>2 предмета:</strong> Увеличивает мастерство стихий на 80 ед.<br><strong>4 предмета:</strong> Увеличивает урон реакций Бутонизация, Вегетация и Цветение экипированного этим набором персонажа на 40%. Кроме того, активация реакций Бутонизация, Вегетация и Цветение персонажем, экипированным этим набором персонажем, усилит эффект на 25%. Каждое суммирование длится 10 сек. Эффект складывается до 4 раз, может возникнуть раз в 1 сек. и активируется, даже если экипированный этим набором персонаж не активен.",
        "characters": [
            "nilu",
            "kokomi",
            "barbara",
            "kuki-sinobu",
            "yae-miko",
            "nahida"
        ]
    },
    "hroniki-chertogov-v-pustyne": {
        "title": "Хроники Чертогов в пустыне",
        "desc": "<strong>2 предмета:</strong>  Увеличивает бонус Анемо-урона на 15%.<br><strong>4 предмета:</strong> Попадание заряженной атакой на 15 сек. повышает скорость обычной атаки на 10%, а урон обычной атаки, заряженной атаки и атаки в падении – на 40%.",
        "characters": [
            "strannik",
            "syao",
            "sikanoin-hehjdzo",
            "kazuha"
        ]
    },
    "vospominaniya-dremuchego-lesa": {
        "title": "Воспоминания дремучего леса",
        "desc": "<strong>2 предмета:</strong> Увеличивает бонус Дендро-урона 15%.<br><strong>4 предмета:</strong> Попадание элементальным навыком или взрывом стихии снижает Дендро сопротивление врага на 30% на 8 сек. Этот эффект срабатывает, даже если экипированный этими артефактами персонаж не на поле боя.",
        "characters": [
            "tignari",
            "kollei",
            "dendro-puteshestvennik",
            "nahida",
            "baizhu",
            "kirara",
            "yaoyao",
            "al-haitam"
        ]
    },
    "otgoloski-podnosheniya": {
        "title": "Отголоски подношения",
        "desc": "<strong>2 предмета:</strong> Увеличивает силу атаки на 18%.<br><strong>4 предмета:</strong> Попадания обычной атакой с 36% шансом активируют Ритуал долины: урон обычной атаки повышается на 70% от силы атаки. Через 0,05 сек. после нанесения урона обычной атакой эффект исчезает. Если обычной атаке не удалось активировать этот эффект, шанс его активации следующим попаданием возрастает на 20%. Шанс активации возникает не чаще одного раза в 0,2 сек.",
        "characters": [
            "kamisato-ayato",
            "yoimiya",
            "keh-cin",
            "tartalya"
        ]
    },
    "kinovarnoe-zagrobe": {
        "title": "Киноварное загробье",
        "desc": "<strong>2 предмета:</strong> Увеличивает силу атаки на 18%.<br><strong>4 предмета:</strong> После активации взрыва стихии на 16 сек. создаёт Скрытое сияние, которое повышает силу атаки на 8%. Сила атаки персонажа увеличивается ещё на 10%, когда он теряет HP. Этот эффект может возникнуть максимум 4 раза и не чаще, чем раз в 0,8 сек. Скрытое сияние исчезает, когда персонаж покидает поле боя. При повторной активации взрыва стихии существующее Скрытое сияние снимается.",
        "characters": [
            "syao"
        ]
    },
    "kokon-sladkih-gryoz": {
        "title": "Кокон сладких грёз",
        "desc": "<strong>2 предмета:</strong> Увеличивает защиту на 30%.<br><strong>4 предмета:</strong> Персонаж, экипированный этим набором артефактов, получает эффект Любопытства в следующих ситуациях: 1 уровень Любопытства даётся активному персонажу после попадания по противнику атакой Гео (не чаше чем раз в 0,3 сек.); когда персонаж находится вне поле боя, он получает 1 ур. Любопытства каждые 3 сек. Любопытство может складываться до 4 ур., каждый ур. прибавляет 6% к защите и 6% к Гео урону. Если персонаж не получает Любопытство в течение 6 сек., то он теряет 1 накопленный уровень Любопытства.",
        "characters": [
            "arataki-itto",
            "goro",
            "yun-czin",
            "noehll",
            "albedo"
        ]
    },
    "mollyusk-morskih-krasok": {
        "title": "Моллюск морских красок",
        "desc": "<strong><strong>2 предмета:</strong> </strong>Повышает бонус лечения на 15%.<strong><br>4 предмета: </strong>Экипированный этим набором артефактов персонаж при лечении соратников создаёт на 3 сек. Пузырь морских красок. Пузырь регистрирует восстановленное при лечении HP (в том числе избыточные, когда лечение превышает максимум здоровья). После окончания действия Пузырь взрывается и наносит окружающим врагам урон в размере 90% учтённого объёма лечения (урон рассчитывается так же, как для эффектов Заряжен и Сверхпроводник, но на него не действуют бонусы мастерства стихий, уровня и реакций). Пузырь морских красок можно создавать не чаще, чем раз в 3,5 сек. Пузырь может записать до 30 000 восстановленных HP, в том числе HP избыточного лечения. Для отряда не может существовать больше одного Пузыря морских красок одновременно. Этот эффект действует, даже если персонаж, экипированный набором артефактов, не находится на поле боя.",
        "characters": [
            "kokomi",
            "barbara",
            "ci-ci",
            "bennet",
            "dzhinn",
            "noehll",
            "baizhu",
            "dori",
            "yaoyao",
            "sin-cyu",
            "diona"
        ]
    }
};

var characters = {
    "kamisato-ayato": {
        "name": "Аято",
        "talent": "elegance",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "clezi",
        }
    },
    "sin-cyu": {
        "name": "Син Цю",
        "talent": "gold",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "hvost",
        }
    },
    "bennet": {
        "name": "Беннет",
        "talent": "fight",
        "worldBoss": {
            "id": "dvalin",
            "items": "pero",
        }
    },
    "syan-lin": {
        "name": "Сян Лин",
        "talent": "diligence",
        "worldBoss": {
            "id": "dvalin",
            "items": "cogoty",
        }
    },
    "nahida": {
        "name": "Нахида",
        "talent": "wit",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "nity",
        }
    },
    "kamisato-ayaka": {
        "name": "Аяка",
        "talent": "elegance",
        "worldBoss": {
            "id": "azhdaha",
            "items": "vetvy",
        }
    },
    "keja": {
        "name": "Кэйа",
        "talent": "poetry",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "duh",
        }
    },
    "hu-tao": {
        "name": "Ху Тао",
        "talent": "diligence",
        "worldBoss": {
            "id": "childe",
            "items": "oskolok",
        }
    },
    "keh-cin": {
        "name": "Кэ Цин",
        "talent": "prosperity",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "colco",
        }
    },
    "dilyuk": {
        "name": "Дилюк",
        "talent": "fight",
        "worldBoss": {
            "id": "dvalin",
            "items": "pero",
        }
    },
    "rozariya": {
        "name": "Розария",
        "talent": "poetry",
        "worldBoss": {
            "id": "childe",
            "items": "teny",
        }
    },
    "kazuha": {
        "name": "Кадзуха",
        "talent": "diligence",
        "worldBoss": {
            "id": "azhdaha",
            "items": "cheshuia",
        }
    },
    "toma": {
        "name": "Тома",
        "talent": "frailty",
        "worldBoss": {
            "id": "sinora",
            "items": "baterfly",
        }
    },
    "saharoza": {
        "name": "Сахароза",
        "talent": "freedom",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "duh",
        }
    },
    "baizhu": {
        "name": "Бай Чжу",
        "talent": "gold",
    },
    "kirara": {
        "name": "Кирара",
        "talent": "",
    },
    "yaoyao": {
        "name": "Яо Яо",
        "talent": "diligence",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "zercalo",
        }
    },
    "kaveh": {
        "name": "Кавех",
        "talent": "wit",
    },
    "barbara": {
        "name": "Барбара",
        "talent": "freedom",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "colco",
        }
    },
    "noehll": {
        "name": "Ноэлль",
        "talent": "fight",
        "worldBoss": {
            "id": "dvalin",
            "items": "cogoty",
        }
    },
    "diona": {
        "name": "Диона",
        "talent": "freedom",
        "worldBoss": {
            "id": "childe",
            "items": "oskolok",
        }
    },
    "yanfehj": {
        "name": "Янь Фэй",
        "talent": "gold",
        "worldBoss": {
            "id": "azhdaha",
            "items": "vetvy",
        }
    },
    "liza": {
        "name": "Лиза",
        "talent": "poetry",
        "worldBoss": {
            "id": "dvalin",
            "items": "cogoty",
        }
    },
    "yelan": {
        "name": "Е Лань",
        "talent": "prosperity",
        "worldBoss": {
            "id": "azhdaha",
            "items": "cheshuia",
        }
    },
    "kli": {
        "name": "Кли",
        "talent": "freedom",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "colco",
        }
    },
    "dehya": {
        "name": "Дэхья",
        "talent": "honesty",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "nity",
        }
    },
    "faruzan": {
        "name": "Фарузан",
        "talent": "instructions",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "nity",
        }
    },
    "nilu": {
        "name": "Нилу",
        "talent": "honesty",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "clezi",
        }
    },
    "dori": {
        "name": "Дори",
        "talent": "wit",
        "worldBoss": {
            "id": "azhdaha",
            "items": "vetvy",
        }
    },
    "sayu": {
        "name": "Саю",
        "talent": "world",
        "worldBoss": {
            "id": "azhdaha",
            "items": "cheshuia",
        }
    },
    "kuki-sinobu": {
        "name": "Куки Синобу",
        "talent": "elegance",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "smisl",
        }
    },
    "kandakia": {
        "name": "Кандакия",
        "talent": "instructions",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "smisl",
        }
    },
    "kokomi": {
        "name": "Кокоми",
        "talent": "frailty",
        "worldBoss": {
            "id": "sinora",
            "items": "baterfly",
        }
    },
    
    "puteshestvennik-anemo": {
        "name": "Путешественник (Анемо)",
        "talent": "fight",
    },
    "puteshestvennik-geo": {
        "name": "Путешественник (Гео)",
        "talent": "diligence",
    },
    "amber": {
        "name": "Эмбер",
        "talent": "freedom",
        "worldBoss": {
            "id": "dvalin",
            "items": "vzdoh",
        }
    },
    "chun-yun": {
        "name": "Чун Юнь",
        "talent": "diligence",
        "worldBoss": {
            "id": "dvalin",
            "items": "vzdoh",
        }
    },
    "shenh-he": {
        "name": "Шэнь Хэ",
        "talent": "prosperity",
        "worldBoss": {
            "id": "sinora",
            "items": "baterfly",
        }
    },
    "sin-yan": {
        "name": "Синь Янь",
        "talent": "gold",
        "worldBoss": {
            "id": "childe",
            "items": "rog",
        }
    },
    "venti": {
        "name": "Венти",
        "talent": "poetry",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "hvost",
        }
    },
    "nin-guan": {
        "name": "Нин Гуан",
        "talent": "prosperity",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "duh",
        }
    },
    "gan-yuj": {
        "name": "Гань Юй",
        "talent": "diligence",
        "worldBoss": {
            "id": "childe",
            "items": "teny",
        }
    },
    "albedo": {
        "name": "Альбедо",
        "talent": "poetry",
        "worldBoss": {
            "id": "childe",
            "items": "rog",
        }
    },
    "mona": {
        "name": "Мона",
        "talent": "fight",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "colco",
        }
    },
    "chzhun-li": {
        "name": "Чжун Ли",
        "talent": "gold",
        "worldBoss": {
            "id": "childe",
            "items": "rog",
        }
    },
    "kollei": {
        "name": "Коллеи",
        "talent": "honesty",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "smisl",
        }
    },
    "tartalya": {
        "name": "Тарталья",
        "talent": "freedom",
        "worldBoss": {
            "id": "childe",
            "items": "oskolok",
        }
    },
    "tignari": {
        "name": "Тигнари",
        "talent": "instructions",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "mudra",
        }
    },
    "cyno": {
        "name": "Сайно",
        "talent": "instructions",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "clezi",
        }
    },
    "yae-miko": {
        "name": "Яэ Мико",
        "talent": "world",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "mudra",
        }
    },
    "ci-ci": {
        "name": "Ци Ци",
        "talent": "",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "hvost",
        }
    },
    "mika": {
        "name": "Мика",
        "talent": "poetry",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "empty",
        }
    },
    "syao": {
        "name": "Сяо",
        "talent": "prosperity",
        "worldBoss": {
            "id": "childe",
            "items": "teny",
        }
    },
    "dzhinn": {
        "name": "Джинн",
        "talent": "fight",
        "worldBoss": {
            "id": "dvalin",
            "items": "pero",
        }
    },
    "strannik": {
        "name": "Странник",
        "talent": "honesty",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "zercalo",
        }
    },
    "behj-dou": {
        "name": "Бэй Доу",
        "talent": "gold",
        "worldBoss": {
            "id": "dvalin",
            "items": "vzdoh",
        }
    },
    "rehjzor": {
        "name": "Рэйзор",
        "talent": "fight",
        "worldBoss": {
            "id": "dvalin",
            "items": "cogoty",
        }
    },
    "fishl": {
        "name": "Фишль",
        "talent": "poetry",
        "worldBoss": {
            "id": "andrius-volchij-lord",
            "items": "duh",
        }
    },
    "syogun-rajdehn": {
        "name": "Сёгун Райдэн",
        "talent": "world",
        "worldBoss": {
            "id": "sinora",
            "items": "mig",
        }
    },
    "yoimiya": {
        "name": "Ёимия",
        "talent": "frailty",
        "worldBoss": {
            "id": "azhdaha",
            "items": "corona",
        }
    },
    "ehola": {
        "name": "Эола",
        "talent": "fight",
        "worldBoss": {
            "id": "azhdaha",
            "items": "corona",
        }
    },
    "puteshestvennik-ehlektro": {
        "name": "Путешественник",
        "talent": "fight",
    },
    "sara-kudzyo": {
        "name": "Кудзё Сара",
        "talent": "elegance",
        "worldBoss": {
            "id": "sinora",
            "items": "cerdce",
        }
    },
    "sikanoin-hehjdzo": {
        "name": "Хэйдзо",
        "talent": "frailty",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "mudra",
        }
    },
    "dendro-puteshestvennik": {
        "name": "Путешественник (Дендро)",
        "talent": "wit",
        "worldBoss": {
            "id": "magacu-mitakeh-narukami-no-mikoto",
            "items": "clezi",
        }
    },
    "electro-puteshestvennik": {
        "name": "Путешественник (Электро)",
        "talent": "elegance",
        "worldBoss": {
            "id": "azhdaha",
            "items": "corona",
        }
    },
    "al-haitam": {
        "name": "Аль-Хайтам",
        "talent": "wit",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "zercalo",
        }
    },
    "layla": {
        "name": "Лайла",
        "talent": "wit",
        "worldBoss": {
            "id": "syoki-no-kami",
            "items": "empty",
        }
    },
    "arataki-itto": {
        "name": "Аратаки Итто",
        "talent": "elegance",
        "worldBoss": {
            "id": "sinora",
            "items": "cerdce",
        }
    },
    "goro": {
        "name": "Горо",
        "talent": "world",
        "worldBoss": {
            "id": "sinora",
            "items": "mig",
        }
    },
    "yun-czin": {
        "name": "Юнь Цзинь",
        "talent": "diligence",
        "worldBoss": {
            "id": "sinora",
            "items": "cerdce",
        }
    }
};

var worldBosses = {
    "dvalin": {
        "name": "Ужас бури",
        "items": {
            "pero": "Перо Двалина",
            "cogoty": "Коготь Двалина",
            "vzdoh": "Вздох Двалина",
        }
    },
    "andrius-volchij-lord": {
        "name": "Андриус. Волчий лорд",
        "items": {
            "hvost": "Хвост Борея",
            "colco": "Кольцо Борея",
            "duh": "Шкатулка с духом Борея",
        }
    },
    "azhdaha": {
        "name": "Аждаха",
        "items": {
            "corona": "Корона лорда драконов",
            "vetvy": "Ветвь кровавой яшмы",
            "cheshuia": "Позолоченная чешуя",
        }
    },
    "childe": {
        "name": "Чайльд",
        "items": {
            "rog": "Рог небесного кита",
            "oskolok": "Осколок дьявольского меча",
            "teny": "Тень воина",
        }
    },
    "magacu-mitakeh-narukami-no-mikoto": {
        "name": "Магацу митакэ Наруками но микото (Райден)",
        "items": {
            "smisl": "Смысл эонов",
            "clezi": "Слезы очищения божества бедствий",
            "mudra": "Мудра зловещего генерала",
        }
    },
    "sinora": {
        "name": "Синьора",
        "items": {
            "mig": "Расплавленный миг",
            "baterfly": "Бабочка адского пламени",
            "cerdce": "Пепельное сердце",
        }
    },
    "syoki-no-kami": {
        "name": "Сёки но Ками (Скарамуча)",
        "items": {
            "nity": "Нити марионетки",
            "zercalo": "Зеркало Мусин",
            "empty": "Пустой колокольчик",
        }
    },
};

var talants = {
    "fight": {
        "name": "О борьбе",
        "dungeon": "",
        "days": {
            1: false,
            2: true,
            3: false,
            4: false,
            5: true,
            6: false,
            7: true,
        }
    },
    "diligence": {
        "name": "О усердии",
        "dungeon": "",
        "days": {
            1: false,
            2: true,
            3: false,
            4: false,
            5: true,
            6: false,
            7: true,
        }
    },
    "elegance": {
        "name": "Об изяществе",
        "dungeon": "",
        "days": {
            1: false,
            2: true,
            3: false,
            4: false,
            5: true,
            6: false,
            7: true,
        }
    },
    "wit": {
        "name": "Об остроумие",
        "dungeon": "",
        "days": {
            1: false,
            2: true,
            3: false,
            4: false,
            5: true,
            6: false,
            7: true,
        }
    },
    "gold": {
        "name": "О золоте",
        "dungeon": "",
        "days": {
            1: false,
            2: false,
            3: true,
            4: false,
            5: false,
            6: true,
            7: true,
        }
    },
    "poetry": {
        "name": "О поэзии",
        "dungeon": "",
        "days": {
            1: false,
            2: false,
            3: true,
            4: false,
            5: false,
            6: true,
            7: true,
        }
    },
    "world": {
        "name": "О свете",
        "dungeon": "",
        "days": {
            1: false,
            2: false,
            3: true,
            4: false,
            5: false,
            6: true,
            7: true,
        }
    },
    "honesty": {
        "name": "О честности",
        "dungeon": "",
        "days": {
            1: false,
            2: false,
            3: true,
            4: false,
            5: false,
            6: true,
            7: true,
        }
    },
    "prosperity": {
        "name": "О процветании",
        "dungeon": "",
        "days": {
            1: true,
            2: false,
            3: false,
            4: true,
            5: false,
            6: false,
            7: true,
        }
    },
    "freedom": {
        "name": "О свободе",
        "dungeon": "",
        "days": {
            1: true,
            2: false,
            3: false,
            4: true,
            5: false,
            6: false,
            7: true,
        }
    },
    "frailty": {
        "name": "О бренности",
        "dungeon": "",
        "days": {
            1: true,
            2: false,
            3: false,
            4: true,
            5: false,
            6: false,
            7: true,
        }
    },
    "instructions": {
        "name": "О наставлених",
        "dungeon": "",
        "days": {
            1: true,
            2: false,
            3: false,
            4: true,
            5: false,
            6: false,
            7: true,
        }
    },
}

$(document).ready(function() {
    $('[js-tab-button]').on('click', function(event) {
        event.preventDefault();
        $('.tab').addClass('none');
        $('.tabs_button').removeClass('active');

        let $this = $(this);

        $this.addClass('active');

        let id = $this.attr('js-tab-button');
        
        $('[js-tab=' + id + ']').removeClass('none');
    });

    let $artifactsTab = $('[js-artifacts-tab]');
    let $charactersTab = $('[js-characters-tab]');
    let $wordlBossesTab = $('[js-world-bosses-tab]');
    let $talentsWeekTab = $('[js-talents-week-tab]');
    let $talentsDayTab = $('[js-talents-day-tab]');

    for (const [id, obj] of Object.entries(artifacts)) {
        let $tr = $(` <tr>
            <td class="art-img">
                <img src="img/${id}.webp" title="${obj.title}">
                <br>
                <strong>${obj.title}</strong>
            </td>
            <td class="art-desc">
                ${obj.desc}
            </td>
            <td class="art-chars">
            </td>
        </tr>`);

        let $chars = $tr.find('.art-chars');

        obj.characters.forEach(function(value, index) {
            let $div = $(`<div>
                <img src="img/${value}.webp" title="${characters[value].name}">
                <br>
                <span>${characters[value].name}</span>
            </div>`);

            $chars.append($div);
        });

        $artifactsTab.append($tr);
    }

    // персонажи
    for (const [id, obj] of Object.entries(characters)) {
        let $tr = $(` <tr>
            <td class="char-img">
                <img src="img/${id}.webp" title="${obj.name}">
                <br>
                <strong>${obj.name}</strong>
            </td>
            <td class="char-boss">
                <div class="flex"></div>
            </td>
            <td class="char-items">
            </td>
            <td class="char-arts">
                <div class="flex"></div>
            </td>
        </tr>`);

        let $bosses = $tr.find('.char-boss .flex');
        let $items = $tr.find('.char-items');
        let $arts = $tr.find('.char-arts .flex');

        for (const [artId, art] of Object.entries(artifacts)) {
            if(art.characters.includes(id)) {
                let $art = $(`<div>
                    <img src="img/${artId}.webp" title="${art.title}">
                    <br>
                    <strong>${art.title}</strong>
                </div>`);

                $arts.append($art);
            }
        }

        if(obj.worldBoss != null) {
            let $boss = $(`<div>
                <img src="img/${obj.worldBoss.id}.webp" title="${worldBosses[obj.worldBoss.id].name}">
                <br>
                <strong>${worldBosses[obj.worldBoss.id].name}</strong>
            </div>`);

            $bosses.append($boss);
            $boss = $(`<div>
                <img src="img/${obj.worldBoss.items}.webp" title="${worldBosses[obj.worldBoss.id]['items'][obj.worldBoss.items]}">
                <br>
                <strong>${worldBosses[obj.worldBoss.id]['items'][obj.worldBoss.items]}</strong>
            </div>`);

            $bosses.append($boss);
        }


        if(talants[obj.talent] != null) {
            for(let i = 1; i < 8; i++)
            {
                let day = '';
    
                switch(i) {
                    case 1: day = 'Понеділок'; break;
                    case 2: day = 'Вівторок'; break;
                    case 3: day = 'Середа'; break;
                    case 4: day = 'Четверг'; break;
                    case 5: day = 'П\'ятниця'; break;
                    case 6: day = 'Субота'; break;
                    case 7: day = 'Неділя'; break;
                }

                if(talants[obj.talent].days[i]) {
                    $items.append($(`<strong>${day}</strong><br/>`));
                }
            }
        }

        

        $charactersTab.append($tr);

    }

    // мировые боссы 
    for (const [id, obj] of Object.entries(worldBosses)) {
        let index = 0;

        // for (const [itemId, itemObj] of Object.entries(obj.items)) {

        //     let $tr = $('<tr></tr>');

        //     if(index == 0) {
        //         let $td = $(`<td rowspan="3" class="boss-img">
        //             <img src="img/${id}.webp" title="${obj.name}">
        //             <br>
        //             <strong>${obj.name}</strong>
        //         </td>`);

        //         $tr.append($td);
        //     }

        //     let $td = $(`<td class="boss-items">
        //         <img src="img/${itemId}.webp" title="${itemObj}">
        //         <br>
        //         <strong>${itemObj}</strong>
        //     </td>`);

        //     $tr.append($td);

        //     $td = $('<td class="boss-chars"></td>');

        //     for (const [charId, charObj] of Object.entries(characters)) {

        //         if(charObj.worldBoss == null)
        //             continue;

        //         if(charObj.worldBoss.id != id)
        //             continue;
                
        //         if(charObj.worldBoss.items != itemId)
        //             continue;

        //         let $div = $(`<div>
        //             <img src="img/${charId}.webp" title="${charObj.name}">
        //             <br>
        //             <strong>${charObj.name}</strong>
        //         </div>`);

        //         $td.append($div);
        //     }

        //     $td.append('<div></div>');

        //     $tr.append($td);

        //     $wordlBossesTab.append($tr);
        //     index++;
        // }

        // $wordlBossesTab.append('<tr><td></td><td></td><td></td></tr>');

        let $tr = $('<tr></tr>');

        let $td = $(`<td class="boss-img">
            <img src="img/${id}.webp" title="${obj.name}">
            <br>
            <strong>${obj.name}</strong>
        </td>`);

        $tr.append($td);

        for (const [itemId, itemObj] of Object.entries(obj.items)) {

            let $td = $(`<td class="boss-items">
                <img src="img/${itemId}.webp" title="${itemObj}">
                <br>
                <strong>${itemObj}</strong>
            </td>`);

            $tr.append($td);

            $td = $('<td class="boss-chars"></td>');

            for (const [charId, charObj] of Object.entries(characters)) {

                if(charObj.worldBoss == null)
                    continue;

                if(charObj.worldBoss.id != id)
                    continue;
                
                if(charObj.worldBoss.items != itemId)
                    continue;

                let $div = $(`<div>
                    <img src="img/${charId}.webp" title="${charObj.name}">
                    <br>
                    <strong>${charObj.name}</strong>
                </div>`);

                $td.append($div);
            }
            $tr.append($td);
        }

        $wordlBossesTab.append($tr);

        $wordlBossesTab.append('<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>');
    }


    // таланты
    for(let i = 1; i < 8; i++)
    {
        let day = '';

        switch(i) {
            case 1: day = 'Понеділок'; break;
            case 2: day = 'Вівторок'; break;
            case 3: day = 'Середа'; break;
            case 4: day = 'Четверг'; break;
            case 5: day = 'П\'ятниця'; break;
            case 6: day = 'Субота'; break;
            case 7: day = 'Неділя'; break;
        }

        let $tr = $(`  <tr>
            <td class="talents-week-day">
                <strong>${day}</strong>
            </td>
        </tr>`);

        let $td = $(`<td class="talents-week-chars"></td>`);            

        for (const [id, obj] of Object.entries(talants)) {

            if(!obj.days[i])
                continue;

            let $item = $(`<div class="talents-week-item"></div>`);
            $item.append(`<strong>${obj.name}</strong>`);

            let $flex = $('<div class="flex"></div>');
            $item.append($flex);

            let counnt = 0;


            for (const [charId, char] of Object.entries(characters)) {
                if(char.talent != id)
                    continue;

                counnt++;

                let $char = $(`<div>
                    <img src="img/${charId}.webp" title="${char.name}">
                    <br>
                    <span>${char.name}</span>
                </div>`);

                $flex.append($char);
            }

            if(counnt)
                $td.append($item);
        }

        $tr.append($td);
        $talentsWeekTab.append($tr);
    }


    (function(){
        let i = (new Date().getDay());

        switch(i) {
            case 1: day = 'Понеділок'; break;
            case 2: day = 'Вівторок'; break;
            case 3: day = 'Середа'; break;
            case 4: day = 'Четверг'; break;
            case 5: day = 'П\'ятниця'; break;
            case 6: day = 'Субота'; break;
            case 0: day = 'Неділя'; break;
        }

        if(i == 0)
            i += 7;

        console.log(day);

        for (const [id, obj] of Object.entries(talants)) {

            if(!obj.days[i])
                continue;

            let $tr = $(`  <tr>
                <td class="talents-week-day">
                    <strong>${obj.name}</strong>
                </td>
            </tr>`);

            let $td = $(`<td class="talents-week-chars"></td>`);

            let $item = $(`<div class="talents-week-item"></div>`);

            let $flex = $('<div class="flex"></div>');
            $item.append($flex);

            let counnt = 0;


            for (const [charId, char] of Object.entries(characters)) {
                if(char.talent != id)
                    continue;

                counnt++;

                let $char = $(`<div>
                    <img src="img/${charId}.webp" title="${char.name}">
                    <br>
                    <span>${char.name}</span>
                </div>`);

                $flex.append($char);
            }

            if(counnt)
                $td.append($item);

            $tr.append($td);    
            $talentsDayTab.append($tr);
        }

        
    })();
});

// только для сбора информации
function a(arts) {
    console.log(arts);
    for (const [id, obj] of Object.entries(arts)) {
        if(artifacts[id] == null)
            artifacts[id] = obj;
    }
}

function c(chars) {
    console.log(chars);
    for (const [id, obj] of Object.entries(chars)) {
        if(characters[id] == null)
            characters[id] = obj;
    }
}

$('[js-parser-form]').on('submit', function(event) {
    event.preventDefault();

    let $form = $(this);

    let $a = $form.find('[name=a]');
    let $c = $form.find('[name=c]');

    let _a = $a.val().trim();
    let _c = $c.val().trim();

    if(_a.length > 0) {
        a(JSON.parse(_a));
    }

    if(_c.length > 0) {
        c(JSON.parse(_c));
    }

    $a.val('');
    $c.val('');

    console.log(artifacts);
    console.log(characters);
});